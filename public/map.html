<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Mapa Interativo</title>
  <link rel="stylesheet" href="./stylesheets/mainpage.css">
  <link rel="icon" type="img/x-icon" href="https://seeklogo.com/images/S/spring-logo-9A2BC78AAF-seeklogo.com.png">
  <link href='https://api.mapbox.com/mapbox-gl-js/v2.8.1/mapbox-gl.css' rel='stylesheet' />
  <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">

  <!--Ligar o codigo JavaScript a um ficheiro JavaScript-->

</head>

<nav>
  <!--Barra de navegação-->
  <div class="topnav">
    <a href="index.html">
      <img src="./images/logobranconobg.png" class="img-fluid"
        style="cursor: pointer; position: absolute; margin-left: -98%; width: 10%; margin-top: -1%;">
    </a>
    <a href="userdashboard.html">Perfil</a>
    <a href="about.html">Sobre Nós</a>
    <a href="jornalfit.html"> Jornal FIT</a>
    <a href="mainpage.html">Main Page</a>
  </div>
</nav>

<body>

  <!--PERGUNTAR COMO ATRIBUIR DIFERENTES DISTANCIAS SEM REPETIR CODIGO IGUAL DE CSS, EM QUE SÓ ALTERA A POSIÇÃO (POUPAR CÓDIGO)-->

  <section class="filterplaces">
    <button id="filterplacesbtn"><b>CAFÉS</b></button>

    <button id="filterplacesbtn2"><b>BARES</b></button>

    <button href="mainpage.html" id="filterplacesbtn3"><b>RESTAURANTES</b></button>

    <button type="button" onclick="change()" id="filterplacesbtn4"><b>GINÁSIOS</b></button>
    
  </section>

  
  <div class="container">

    <div id='map' style='width: 782px; height: 500px; border: 1px solid #e8bf5c; margin-left: 240px; margin-top: 70px;'>
    </div>

   <div class="boxContainer">

      <table class="elementsContainer">

         <tr>
            
           <td>
 
             <input type="text" placeholder="Pesquisar Local..." class="search" id="searchforplace">

           </td>
           <td>
             <a href="#"><i class="material-icons">search</i></a>
           </td>


         </tr>

      </table>

   </div>

  </div>

  <!--- <p><iframe class="map" src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3113.461309133146!2d-9.15462138472065!3d38.707216579600434!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0xd1934838cfa1033%3A0x36de966c91888246!2sIADE%20-%20Creative%20University!5e0!3m2!1spt-PT!2spt!4v1648256962661!5m2!1spt-PT!2spt" width="900" height="550" style="border:0; position: absolute; margin-left: 290px; margin-top: 50px;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade" ></iframe></p> -->

  <section class="eventospublicos">

    <div id="rectangletotitle6">
      <h2 style="text-align: center; color: white; font-family: Verdana, Geneva, Tahoma, sans-serif; font-size: 19px;">
        <b>EVENTOS<br>RECENTES</b>
      </h2>
    </div>

    <hr
      style="background-color: #e8bf5c; transform: rotate(180deg); width: 170px; color: #e8bf5c; position: absolute; margin-left: 1257px; margin-top: 125px;">

    <button id="seemorebtn1"><b>VER MAIS</b></button>

  </section>

  <section class="eventospublicos">

    <div id="rectangletotitle7">
      <h2 style="text-align: center; color: white; font-family: Verdana, Geneva, Tahoma, sans-serif; font-size: 19px;">
        <b>AULAS<br>MARCADAS</b>
      </h2>
    </div>

    <hr
      style="background-color: #e8bf5c; transform: rotate(180deg); width: 170px; color: #e8bf5c; position: absolute; margin-left: 57px; margin-top: 125px;">

    <button id="seemorebtn2"><b>VER MAIS</b></button>

  </section>

  <script src='https://api.mapbox.com/mapbox-gl-js/v2.8.1/mapbox-gl.js'></script>
  <script src="js/map.js"></script>

  <script>

    mapboxgl.accessToken = 'pk.eyJ1IjoibWlndWVsY3J1eiIsImEiOiJjbDI1djBzdmcwODhwM2RudTlleGRlZ2tpIn0.u31STaJqnZkr5QFGTgVD8w';


    var map = new mapboxgl.Map({

      container: 'map',
     // style: 'mapbox://styles/mapbox/streets-v11',
      style: 'mapbox://styles/miguelcruz/cl25ywb6d000014mpgycvyq1w/draft',
      center: [-9.1522302, 38.7070926],
      zoom: 15
    });

    //https://codepen.io/stevebennett/pen/RpKVjy
    /*map.on('load', () => {
    var marker = new mapboxgl.Marker().setLngLat([-9.1522302, 38.7070926]).addTo(map);
    marker.style.visibility = "hidden";
    });*/

    const geojson = {

  "type": "FeatureCollection",
  "features": [
    {
      "type": "Feature",
      "properties": {
        "marker-color": "#00ff00",
        "marker-size": "medium",
        "marker-symbol": ""
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          -9.14401262998581,
          38.719222970322235
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "marker-color": "#00ff00",
        "marker-size": "medium",
        "marker-symbol": ""
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          -9.141755551099777,
          38.716607029066886
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "marker-color": "#00ff00",
        "marker-size": "medium",
        "marker-symbol": ""
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          -9.14171,
          38.71344
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "marker-color": "#00ff00",
        "marker-size": "medium",
        "marker-symbol": ""
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          -9.24568,
          38.70895
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "marker-color": "#00ff00",
        "marker-size": "medium",
        "marker-symbol": ""
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          -9.14401,
          38.73691
        ]
      }
    }
  ]
};

    // add markers to map
    for (const feature of geojson.features) {
      // create a HTML element for each feature
      const el = document.createElement('div');
      el.className = 'marker';

      // make a marker for each feature and add it to the map
      new mapboxgl.Marker(el)
        .setLngLat(feature.geometry.coordinates)
        .setPopup(
          new mapboxgl.Popup({ offset: 25 }) // add popups
            .setHTML(
              `<h3>${feature.properties.title}</h3><p>${feature.properties.description}</p>`
            )
        )
        .addTo(map);
    }

  </script>

  <!--STRING API GEOCODING

  https://api.mapbox.com/geocoding/v5/mapbox.places -->

  <!--LOGO...

  https://api.mapbox.com/geocoding/v5/mapbox.places/San%20Francisco.json?accessToken=pk.eyJ1IjoibWlndWVsY3J1eiIsImEiOiJjbDI1djBzdmcwODhwM2RudTlleGRlZ2tpIn0.u31STaJqnZkr5QFGTgVD8w -->



</body>

</html>